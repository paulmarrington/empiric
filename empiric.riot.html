<empiric>
  <bootstrap class=riot>
    <sidebar><tree name=empiric-pim /></sidebar>
    <page-content fluid=true>
      <panels name=editor-panels>
        <code-editor  class="riot col-sm-6 draggable" name=code height=46% />
        <markdown class="riot col-sm-6 draggable" name=specifications
          height=46% heading="Specifications" />
        <code-editor  class="riot col-sm-6 draggable" name=reference
          height=46% heading="Reference" />
        <iframe-panel class="riot col-sm-6 draggable" name=target height=46%
          heading="Project" />
      </panels>
    </page-content>
  </bootstrap>

  <script type="text/lispz">
    (riot-tag (using [message]
      ## (lispz.set-debug-mode true)

      (ref open (lambda [topic key contents]
        (message.send (+ "code-editor/" topic "/open") {key contents})
      ))

      (when (message.ready> "code-editor/code/open")
        (open "code" ".lispz" "")
        (message.send "code-editor/code/focus" {})
      )
    ))
  </script>
</empiric>
